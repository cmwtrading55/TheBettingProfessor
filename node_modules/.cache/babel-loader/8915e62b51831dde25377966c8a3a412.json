{"ast":null,"code":"import axios from 'axios';\n\n// Google Sheets API constants\nconst SHEET_ID = '1aj-xt9lKz8tux2LhaHjVDhjCT3TKlaf1xdoOjLKJxtU'; // Your Google Sheet ID\nconst API_KEY = 'AIzaSyCpQeGu5ttgs7nRF6bgTfK08CssTjkOAYI'; // Your Google Sheets API key\nconst RANGE = 'Betting%20Tips!A:AN'; // The dynamic range covering all rows in columns A to AN\n\n// Sports Live Scores API constants\nconst RAPIDAPI_HOST = 'sports-live-scores.p.rapidapi.com';\nconst RAPIDAPI_KEY = '276a8c0736mshf09375fb00da8bap1572e3jsn0fb6089294a2';\nconst BASE_URL = 'https://sports-live-scores.p.rapidapi.com';\n\n/**\n * Fetch data from Google Sheets\n * @returns {Array} - An array of rows from the Google Sheet\n */\nexport const fetchData = async () => {\n  const url = `https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/${RANGE}?key=${API_KEY}`;\n  console.log('Fetching URL:', url);\n  try {\n    const response = await axios.get(url);\n    console.log('API Response:', response);\n    console.log('Data Values:', response.data.values);\n    return response.data.values;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return [];\n  }\n};\n\n/**\n * Fetch live football events from Sports Live Scores API\n * @returns {Array} - An array of live football events\n */\nexport const fetchLiveFootballEvents = async () => {\n  const url = `${BASE_URL}/football/live_matches`;\n  console.log('Fetching Live Football Events URL:', url);\n  try {\n    const response = await axios.get(url, {\n      headers: {\n        'x-rapidapi-host': RAPIDAPI_HOST,\n        'x-rapidapi-key': RAPIDAPI_KEY,\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log('Live Football Events API Response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching live football events:', error);\n    return [];\n  }\n};\n\n/**\n * Fetch odds for a specific event by Event ID\n * @param {string} eventId - The ID of the event to fetch odds for\n * @returns {Object} - The odds data for the specified event\n */\nexport const fetchEventOdds = async eventId => {\n  const url = `${BASE_URL}/get_odds/${eventId}`;\n  console.log(`Fetching Odds for Event ID ${eventId}:`, url);\n  try {\n    const response = await axios.get(url, {\n      headers: {\n        'x-rapidapi-host': RAPIDAPI_HOST,\n        'x-rapidapi-key': RAPIDAPI_KEY,\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log(`Odds API Response for Event ID ${eventId}:`, response.data);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching odds for event ID ${eventId}:`, error);\n    return null;\n  }\n};\n\n/**\n * Map custom event IDs to Sports Live Scores event IDs\n * @param {Array} customEvents - An array of your custom event data from Google Sheets\n * @param {Array} liveEvents - An array of live events from the Sports Live Scores API\n * @returns {Array} - An array of custom events mapped with live event IDs\n */\nexport const mapEventsToCustomIDs = (customEvents, liveEvents) => {\n  return customEvents.map(customEvent => {\n    const [date,,, sport, team1, team2] = customEvent; // Extract relevant fields (adjust based on your data structure)\n\n    // Try to find a matching live event based on date, sport, and teams\n    const matchingEvent = liveEvents.find(liveEvent => {\n      // Extract relevant data from live event\n      const liveDate = new Date(liveEvent[\"Date\"]).toLocaleDateString('en-GB'); // Convert to 'dd/mm/yyyy' format\n      const liveSport = liveEvent[\"Sport\"]; // Assuming live events include sport info\n      const liveTeam1 = liveEvent[\"Team 1\"].toLowerCase();\n      const liveTeam2 = liveEvent[\"Team 2\"].toLowerCase();\n\n      // Compare sport, date, and team names (case-insensitive)\n      return sport.toLowerCase() === liveSport.toLowerCase() && date === liveDate && (team1.toLowerCase() === liveTeam1 || team1.toLowerCase() === liveTeam2) && (team2.toLowerCase() === liveTeam1 || team2.toLowerCase() === liveTeam2);\n    });\n\n    // If a matching event is found, add the live event ID to the custom event data\n    if (matchingEvent) {\n      return {\n        ...customEvent,\n        liveEventId: matchingEvent[\"Match Id\"]\n      };\n    }\n\n    // Return the custom event as-is if no matching live event is found\n    return {\n      ...customEvent,\n      liveEventId: null\n    };\n  });\n};\n\n/**\n * Log mapped events to the console for testing\n */\nexport const logMappedEvents = async () => {\n  const customEvents = await fetchData(); // Fetch your custom events data\n  const liveEvents = await fetchLiveFootballEvents(); // Fetch live football events\n  const mappedEvents = mapEventsToCustomIDs(customEvents, liveEvents); // Map the custom events to live events\n  console.log('Mapped Events:', mappedEvents); // Log the mapped events to the console\n};","map":{"version":3,"names":["axios","SHEET_ID","API_KEY","RANGE","RAPIDAPI_HOST","RAPIDAPI_KEY","BASE_URL","fetchData","url","console","log","response","get","data","values","error","fetchLiveFootballEvents","headers","fetchEventOdds","eventId","mapEventsToCustomIDs","customEvents","liveEvents","map","customEvent","date","sport","team1","team2","matchingEvent","find","liveEvent","liveDate","Date","toLocaleDateString","liveSport","liveTeam1","toLowerCase","liveTeam2","liveEventId","logMappedEvents","mappedEvents"],"sources":["C:/Users/CMW1/Downloads/betting-tips-app/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Google Sheets API constants\nconst SHEET_ID = '1aj-xt9lKz8tux2LhaHjVDhjCT3TKlaf1xdoOjLKJxtU'; // Your Google Sheet ID\nconst API_KEY = 'AIzaSyCpQeGu5ttgs7nRF6bgTfK08CssTjkOAYI'; // Your Google Sheets API key\nconst RANGE = 'Betting%20Tips!A:AN'; // The dynamic range covering all rows in columns A to AN\n\n// Sports Live Scores API constants\nconst RAPIDAPI_HOST = 'sports-live-scores.p.rapidapi.com';\nconst RAPIDAPI_KEY = '276a8c0736mshf09375fb00da8bap1572e3jsn0fb6089294a2';\nconst BASE_URL = 'https://sports-live-scores.p.rapidapi.com';\n\n/**\n * Fetch data from Google Sheets\n * @returns {Array} - An array of rows from the Google Sheet\n */\nexport const fetchData = async () => {\n  const url = `https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/${RANGE}?key=${API_KEY}`;\n  console.log('Fetching URL:', url);\n\n  try {\n    const response = await axios.get(url);\n    console.log('API Response:', response);\n    console.log('Data Values:', response.data.values);\n    return response.data.values;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return [];\n  }\n};\n\n/**\n * Fetch live football events from Sports Live Scores API\n * @returns {Array} - An array of live football events\n */\nexport const fetchLiveFootballEvents = async () => {\n  const url = `${BASE_URL}/football/live_matches`;\n  console.log('Fetching Live Football Events URL:', url);\n\n  try {\n    const response = await axios.get(url, {\n      headers: {\n        'x-rapidapi-host': RAPIDAPI_HOST,\n        'x-rapidapi-key': RAPIDAPI_KEY,\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n    });\n    console.log('Live Football Events API Response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching live football events:', error);\n    return [];\n  }\n};\n\n/**\n * Fetch odds for a specific event by Event ID\n * @param {string} eventId - The ID of the event to fetch odds for\n * @returns {Object} - The odds data for the specified event\n */\nexport const fetchEventOdds = async (eventId) => {\n  const url = `${BASE_URL}/get_odds/${eventId}`;\n  console.log(`Fetching Odds for Event ID ${eventId}:`, url);\n\n  try {\n    const response = await axios.get(url, {\n      headers: {\n        'x-rapidapi-host': RAPIDAPI_HOST,\n        'x-rapidapi-key': RAPIDAPI_KEY,\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n    });\n    console.log(`Odds API Response for Event ID ${eventId}:`, response.data);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching odds for event ID ${eventId}:`, error);\n    return null;\n  }\n};\n\n/**\n * Map custom event IDs to Sports Live Scores event IDs\n * @param {Array} customEvents - An array of your custom event data from Google Sheets\n * @param {Array} liveEvents - An array of live events from the Sports Live Scores API\n * @returns {Array} - An array of custom events mapped with live event IDs\n */\nexport const mapEventsToCustomIDs = (customEvents, liveEvents) => {\n  return customEvents.map((customEvent) => {\n    const [date, , , sport, team1, team2] = customEvent; // Extract relevant fields (adjust based on your data structure)\n\n    // Try to find a matching live event based on date, sport, and teams\n    const matchingEvent = liveEvents.find((liveEvent) => {\n      // Extract relevant data from live event\n      const liveDate = new Date(liveEvent[\"Date\"]).toLocaleDateString('en-GB'); // Convert to 'dd/mm/yyyy' format\n      const liveSport = liveEvent[\"Sport\"]; // Assuming live events include sport info\n      const liveTeam1 = liveEvent[\"Team 1\"].toLowerCase();\n      const liveTeam2 = liveEvent[\"Team 2\"].toLowerCase();\n\n      // Compare sport, date, and team names (case-insensitive)\n      return (\n        sport.toLowerCase() === liveSport.toLowerCase() &&\n        date === liveDate &&\n        (team1.toLowerCase() === liveTeam1 || team1.toLowerCase() === liveTeam2) &&\n        (team2.toLowerCase() === liveTeam1 || team2.toLowerCase() === liveTeam2)\n      );\n    });\n\n    // If a matching event is found, add the live event ID to the custom event data\n    if (matchingEvent) {\n      return { ...customEvent, liveEventId: matchingEvent[\"Match Id\"] };\n    }\n\n    // Return the custom event as-is if no matching live event is found\n    return { ...customEvent, liveEventId: null };\n  });\n};\n\n/**\n * Log mapped events to the console for testing\n */\nexport const logMappedEvents = async () => {\n  const customEvents = await fetchData(); // Fetch your custom events data\n  const liveEvents = await fetchLiveFootballEvents(); // Fetch live football events\n  const mappedEvents = mapEventsToCustomIDs(customEvents, liveEvents); // Map the custom events to live events\n  console.log('Mapped Events:', mappedEvents); // Log the mapped events to the console\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}